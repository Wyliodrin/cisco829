<script type="text/javascript">
    RED.nodes.registerType('send',{
        category: 'social',
        color: '#a6bbcf',
        defaults: {
            name: {value:""},
            label: {value:"", required: true},
            boardid: {value:""},
            message: {value:false}
        },
        inputs:1,
        outputs:0,
        icon: "bridge.png",
        align: 'right',
        label: function() {
            return this.name||"Send Message "+this.boardid;
        }
    });

    RED.nodes.registerType('receivesignal',{
        category: 'Signals',
        color: '#a6bbcf',
        defaults: {
            name: {value:""},
            signal: {value:"*"}
        },
        inputs:0,
        outputs:1,
        icon: "serial.png",
        label: function() {
            return this.name||"Receive Signal "+this.signal;
        }
    });

    RED.nodes.registerType('receive',{
        category: 'social',
        color: '#a6bbcf',
        defaults: {
            name: {value:""},
            label: {value:"*"}
        },
        inputs:0,
        outputs:1,
        icon: "bridge.png",
        label: function() {
            return this.name||"Receive Message "+this.label;
        }
    });

    RED.nodes.registerType('mobile sensors',{
        category: 'Sensors',
        color: '#a6bbcf',
        defaults: {
            name: {value:""},
            mobile: {value:"phone_id"}
        },
        inputs:0,
        outputs:1,
        icon: "serial.png",
        label: function() {
            return this.name||"Mobile senors "+this.mobile;
        }
    });
</script>

<script type="text/x-red" data-template-name="send">
    <div class="form-row">
        <label for="node-input-label"><i class="icon-tag"></i> Label</label>
        <input type="text" id="node-input-label" placeholder="label">
    </div>
    <div class="form-row">
        <label for="node-input-boardid"><i class="icon-tag"></i> Board ID </label>
        <input type="text" id="node-input-boardid" placeholder="boardid@wyliodrin.com">
    </div>
    <div class="form-row" id="node-message">
        <input style="width: 30px;" type="checkbox" id="node-input-message"><label style="width: 250px;" for="node-input-message">Send whole message</label>
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="icon-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
</script>

<script type="text/x-red" data-help-name="send">
    <p>Send message with a specified <b>label</b> to a board or boards. The message to send is <b>payload</b>. It will be serialized as string. You may send the whole message by checking "Send whole message"</p>

    <p>The message will be sent to the board with <b>boardid</b>. This has to be one id or more ids separated with commas. If this is missing, the <b>Board ID</b> part of the message has to be filled.
    </p>
</script>


<script type="text/x-red" data-template-name="receive">
    <div class="form-row">
        <label for="node-input-label"><i class="icon-tag"></i> Label</label>
        <input type="text" id="node-input-label" placeholder="*">
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="icon-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
</script>

<script type="text/x-red" data-help-name="receive">
    <p>Receive message from a board with label <b>Label</b>. If label is <b>*</b>, it will receive all the messages.</p>

    <p>Message will be filled with:
    <ul>
        <li> <b>label</b> - the label of the message
        <li> <b>sender</b> - the board id of the sender of the message</li>
        <li> <b>payload</b> - the message
    </ul>
    </p>
</script>

<script type="text/x-red" data-template-name="receivesignal">
    <div class="form-row">
        <label for="node-input-signal"><i class="icon-tag"></i> Signal</label>
        <input type="text" id="node-input-signal" placeholder="*">
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="icon-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
</script>

<script type="text/x-red" data-help-name="receivesignal">
    <p>Receive a signal from a board. If signal is <b>*</b>, it will receive all the signals.</p>

    <p>Message will be filled with:
    <ul>
        <li> <b>signal</b> - the signal
        <li> <b>sender</b> - the board id of the sender of the message</li>
        <li> <b>payload</b> - the signal value
    </ul>
    </p>
</script>

<script type="text/x-red" data-template-name="mobile sensors">
    <div class="form-row">
        <label for="node-input-mobile"><i class="icon-tag"></i> Mobile</label>
        <input type="text" id="node-input-mobile" placeholder="mobile">
    </div>
    <div class="form-row">
        <label for="node-input-name"><i class="icon-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
</script>

<script type="text/x-red" data-help-name="mobile sensors">
    <p>Receive sensors from a mobile.</p>

    <p>Message will be filled with:
    <ul>
        <li> <b>sender</b> - the mobile</li>
        <li> <b>payload</b> - the sensors, a key data store, key is the senosr type, data is usually an array 
        </li>
    </ul>
    </p>
</script>

